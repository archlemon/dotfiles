# export GPG_TTY=$(tty)

source $HOME/.profile

if [ -f $HOME/.zshrc.local ]; then
  source $HOME/.zshrc.local
fi

export CLICOLOR=1
# export TERM=xterm-256color
export ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE="fg=244"
export ZSH_DOTENV_PROMPT=false

export ZSH="$HOME/.oh-my-zsh"

export PATH="$HOME/go/bin:$HOME/.local/bin:$PATH"

# Set TERM only inside tmux
# if [[ -n "$TMUX" ]]; then
#   export TERM="screen-256color"
# else
#   export TERM="xterm-kitty"
# fi

if [[ "$TERM" == "linux" ]]; then
  ZSH_THEME=""
  PROMPT='%~ $ '
elif [[ "$TERM" == "screen-256color" ]]; then
  ZSH_THEME="agnoster"
elif [[ "$TERM" == "xterm-kitty" ]]; then
  ZSH_THEME="agnoster"
else
  ZSH_THEME="robbyrussell"
fi

plugins=(
  docker
  docker-compose
  dotenv
  git
  git-lfs
  npm
  postgres
  redis-cli
  ssh-agent
  tmux
  yarn
  # zsh-autosuggestions
)

source $ZSH/oh-my-zsh.sh
source /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh

prompt_context() {}

DISABLE_UPDATE_PROMPT=true

# stop ctrl-d from exiting
setopt IGNORE_EOF

KEYTIMEOUT=1
. "$HOME/.cargo/env"

# Added by LM Studio CLI (lms)
export PATH="$PATH:/home/matt/.lmstudio/bin"
# End of LM Studio CLI section

HISTSIZE=50000
SAVEHIST=50000
setopt INC_APPEND_HISTORY
setopt SHARE_HISTORY
setopt HIST_REDUCE_BLANKS

fpath=($HOME/.zsh/completions $fpath)

autoload -U compinit
compinit

source /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
